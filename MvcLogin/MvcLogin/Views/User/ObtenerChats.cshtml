@model IEnumerable<MvcLogin.Models.Chat>

@{
    ViewBag.Title = "ObtenerChats";
}

<h2>ObtenerChats</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table>
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.userSender)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.userRecipient)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.userSender)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.userRecipient)
        </td>
        <td>
            @Html.ActionLink("Enviar Mensaje", "NuevoMensaje", "User", new { receptor = item.userRecipient, emisor = item.userSender }, null) |
            @Html.ActionLink("Enviar Documento", "EnviarArchivo", "User", new { /* id=item.PrimaryKey */ }, null) |
            @Html.ActionLink("Ver Documentos", "ObtenerArchivo", "User", new { /* id=item.PrimaryKey */ }, null) |
            @Html.ActionLink("Ver Mensajes", "ObtenerMensajes", "User", new { receptor = item.userRecipient, emisor = item.userSender }, null) |
            @Html.ActionLink("Buscar Mensaje", "Encontrarmensaje", "User", new { userFriend = item.userRecipient, userName = item.userSender }, null) |
            @Html.ActionLink("Vaciar Chat", "EliminarMensajes", "User", new { userFriend = item.userRecipient, userName = item.userSender }, null) |
            @Html.ActionLink("Eliminar Chat", "EliminarChat", "User", new { userFriend = item.userRecipient, userName = item.userSender }, null)
        </td>
    </tr>
}

</table>
